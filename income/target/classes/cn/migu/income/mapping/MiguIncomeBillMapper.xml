<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.migu.income.dao.MiguIncomeBillMapper">
  <resultMap id="BaseResultMap" type="cn.migu.income.pojo.MiguIncomeBill">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Aug 17 16:44:59 CST 2017.
    -->
    <result column="PROJECT_ID" jdbcType="VARCHAR" property="projectId" />
    <result column="INVOICE_CODE" jdbcType="VARCHAR" property="invoiceCode" />
    <result column="INVOICE_NUMBER" jdbcType="VARCHAR" property="invoiceNumber" />
    <result column="BILLING_DATE" jdbcType="VARCHAR" property="billingDate" />
    <result column="PURCHASE_UNIT_NAME" jdbcType="VARCHAR" property="purchaseUnitName" />
    <result column="PURCHASE_UNIT_CODE" jdbcType="VARCHAR" property="purchaseUnitCode" />
    <result column="PURCHASE_UNIT_ADDR" jdbcType="VARCHAR" property="purchaseUnitAddr" />
    <result column="PURCHASE_UNIT_ACCOUNT" jdbcType="VARCHAR" property="purchaseUnitAccount" />
    <result column="PIN_UNIT_NAME" jdbcType="VARCHAR" property="pinUnitName" />
    <result column="PIN_UNIT_CODE" jdbcType="VARCHAR" property="pinUnitCode" />
    <result column="PIN_UNIT_ADDR" jdbcType="VARCHAR" property="pinUnitAddr" />
    <result column="PIN_UNIT_ACCOUNT" jdbcType="VARCHAR" property="pinUnitAccount" />
    <result column="PRICE" jdbcType="DECIMAL" property="price" />
    <result column="TAX" jdbcType="DECIMAL" property="tax" />
    <result column="TOTAL" jdbcType="DECIMAL" property="total" />
    <result column="PAYEE" jdbcType="VARCHAR" property="payee" />
    <result column="REVIEWER" jdbcType="VARCHAR" property="reviewer" />
    <result column="DRAWER" jdbcType="VARCHAR" property="drawer" />
    <result column="INVOICE_STATUS" jdbcType="VARCHAR" property="invoiceStatus" />
    <result column="BILLING_TYPE" jdbcType="VARCHAR" property="billingType" />
    <result column="BILLING_KEY" jdbcType="VARCHAR" property="billingKey" />
    
  </resultMap>
  
  <insert id="insertSelective" parameterType="cn.migu.income.pojo.MiguIncomeBill">
   
    insert into T_MIGU_INCOME_BILL
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="projectId != null">
        PROJECT_ID,
      </if>
      <if test="invoiceCode != null">
        INVOICE_CODE,
      </if>
      <if test="invoiceNumber != null">
        INVOICE_NUMBER,
      </if>
      <if test="billingDate != null">
        BILLING_DATE,
      </if>
      <if test="purchaseUnitName != null">
        PURCHASE_UNIT_NAME,
      </if>
      <if test="purchaseUnitCode != null">
        PURCHASE_UNIT_CODE,
      </if>
      <if test="purchaseUnitAddr != null">
        PURCHASE_UNIT_ADDR,
      </if>
      <if test="purchaseUnitAccount != null">
        PURCHASE_UNIT_ACCOUNT,
      </if>
      <if test="pinUnitName != null">
        PIN_UNIT_NAME,
      </if>
      <if test="pinUnitCode != null">
        PIN_UNIT_CODE,
      </if>
      <if test="pinUnitAddr != null">
        PIN_UNIT_ADDR,
      </if>
      <if test="pinUnitAccount != null">
        PIN_UNIT_ACCOUNT,
      </if>
      <if test="price != null">
        PRICE,
      </if>
      <if test="tax != null">
        TAX,
      </if>
      <if test="total != null">
        TOTAL,
      </if>
      <if test="payee != null">
        PAYEE,
      </if>
      <if test="reviewer != null">
        REVIEWER,
      </if>
      <if test="drawer != null">
        DRAWER,
      </if>
      <if test="invoiceStatus != null">
        INVOICE_STATUS,
      </if>
      <if test="billingType != null">
        BILLING_TYPE,
      </if>
      <if test="billingKey != null">
      BILLING_KEY,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="projectId != null">
        #{projectId,jdbcType=VARCHAR},
      </if>
      <if test="invoiceCode != null">
        #{invoiceCode,jdbcType=VARCHAR},
      </if>
      <if test="invoiceNumber != null">
        #{invoiceNumber,jdbcType=VARCHAR},
      </if>
      <if test="billingDate != null">
        #{billingDate,jdbcType=VARCHAR},
      </if>
      <if test="purchaseUnitName != null">
        #{purchaseUnitName,jdbcType=VARCHAR},
      </if>
      <if test="purchaseUnitCode != null">
        #{purchaseUnitCode,jdbcType=VARCHAR},
      </if>
      <if test="purchaseUnitAddr != null">
        #{purchaseUnitAddr,jdbcType=VARCHAR},
      </if>
      <if test="purchaseUnitAccount != null">
        #{purchaseUnitAccount,jdbcType=VARCHAR},
      </if>
      <if test="pinUnitName != null">
        #{pinUnitName,jdbcType=VARCHAR},
      </if>
      <if test="pinUnitCode != null">
        #{pinUnitCode,jdbcType=VARCHAR},
      </if>
      <if test="pinUnitAddr != null">
        #{pinUnitAddr,jdbcType=VARCHAR},
      </if>
      <if test="pinUnitAccount != null">
        #{pinUnitAccount,jdbcType=VARCHAR},
      </if>
      <if test="price != null">
        #{price,jdbcType=DECIMAL},
      </if>
      <if test="tax != null">
        #{tax,jdbcType=DECIMAL},
      </if>
      <if test="total != null">
        #{total,jdbcType=DECIMAL},
      </if>
      <if test="payee != null">
        #{payee,jdbcType=VARCHAR},
      </if>
      <if test="reviewer != null">
        #{reviewer,jdbcType=VARCHAR},
      </if>
      <if test="drawer != null">
        #{drawer,jdbcType=VARCHAR},
      </if>
      <if test="invoiceStatus != null">
        #{invoiceStatus,jdbcType=VARCHAR},
      </if>
      <if test="billingType != null">
        #{billingType,jdbcType=VARCHAR},
      </if>
       <if test="billingKey != null">
        #{billingKey,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <select id="selectOneByMarnagerId" parameterType="java.lang.String" resultMap="BaseResultMap">
  	select *from T_MIGU_INCOME_BILL where BILLING_KEY=#{0}
  </select>
  <update id="updateIncomeBill" parameterType="cn.migu.income.pojo.MiguIncomeBill">
  update  T_MIGU_INCOME_BILL
  <set>
      <if test="invoiceCode != null">
       INVOICE_CODE= #{invoiceCode,jdbcType=VARCHAR},
      </if>
      <if test="invoiceNumber != null">
        INVOICE_NUMBER=#{invoiceNumber,jdbcType=VARCHAR},
      </if>
      <if test="billingDate != null">
       BILLING_DATE= #{billingDate,jdbcType=VARCHAR},
      </if>
      <if test="purchaseUnitName != null">
       PURCHASE_UNIT_NAME= #{purchaseUnitName,jdbcType=VARCHAR},
      </if>
      <if test="purchaseUnitCode != null">
        PURCHASE_UNIT_CODE=#{purchaseUnitCode,jdbcType=VARCHAR},
      </if>
      <if test="purchaseUnitAddr != null">
       PURCHASE_UNIT_ADDR= #{purchaseUnitAddr,jdbcType=VARCHAR},
      </if>
      <if test="purchaseUnitAccount != null">
       PURCHASE_UNIT_ACCOUNT= #{purchaseUnitAccount,jdbcType=VARCHAR},
      </if>
      <if test="pinUnitName != null">
       PIN_UNIT_NAME= #{pinUnitName,jdbcType=VARCHAR},
      </if>
      <if test="pinUnitCode != null">
       PIN_UNIT_CODE= #{pinUnitCode,jdbcType=VARCHAR},
      </if>
      <if test="pinUnitAddr != null">
      PIN_UNIT_ADDR=  #{pinUnitAddr,jdbcType=VARCHAR},
      </if>
      <if test="pinUnitAccount != null">
        PIN_UNIT_ACCOUNT=#{pinUnitAccount,jdbcType=VARCHAR},
      </if>
      <if test="price != null">
       PRICE= #{price,jdbcType=DECIMAL},
      </if>
      <if test="tax != null">
       TAX= #{tax,jdbcType=DECIMAL},
      </if>
      <if test="total != null">
       TOTAL= #{total,jdbcType=DECIMAL},
      </if>
      <if test="payee != null">
       PAYEE= #{payee,jdbcType=VARCHAR},
      </if>
      <if test="reviewer != null">
      REVIEWER= #{reviewer,jdbcType=VARCHAR},
      </if>
      <if test="drawer != null">
       DRAWER= #{drawer,jdbcType=VARCHAR},
      </if>
      <if test="invoiceStatus != null">
      INVOICE_STATUS = #{invoiceStatus,jdbcType=VARCHAR},
      </if>
       <if test="billingType != null">
        BILLING_TYPE= #{billingType,jdbcType=VARCHAR},
      </if>
  </set>
    where BILLING_KEY=#{billingKey}
  </update>
  
  <delete id="deleteIncomeBill">
		delete from T_MIGU_INCOME_BILL c where c.billing_key = #{billingKey}
  </delete>
  
   <select id="viewBillings" parameterType="java.lang.String" resultMap="BaseResultMap">
  	select * from T_MIGU_INCOME_BILL where BILLING_KEY=#{billingKey}
  </select>
</mapper>