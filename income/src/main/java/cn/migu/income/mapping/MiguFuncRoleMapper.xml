<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="cn.migu.income.dao.MiguFuncRoleMapper" >
  <resultMap id="BaseResultMap" type="cn.migu.income.pojo.MiguFuncRole" >
    <id column="FUNC_ROLE_ID" property="funcRoleId" jdbcType="DECIMAL" />
    <result column="FUNC_ID" property="funcId" jdbcType="DECIMAL" />
    <result column="ROLE_ID" property="roleId" jdbcType="DECIMAL" />
    <result column="FLAG" property="flag" jdbcType="DECIMAL" />
  </resultMap>

  <delete id="deleteRoleFuncByRoleId" parameterType="java.lang.Long" >
    delete from T_MIGU_FUNC_ROLE
    where ROLE_ID = #{0}
  </delete>
  
  <insert id="saveRoleFunc" parameterType="java.util.List">
	insert into T_MIGU_FUNC_ROLE (FUNC_ROLE_ID,FUNC_ID,ROLE_ID,FLAG)
	select SEQ_MIGU_FUNC_ROLE.nextVal,a.* from (
	<foreach collection="list" item="item" index="index"  separator="union">
		select #{item.funcId}, #{item.roleId}, 1 from dual
	</foreach>
	) a
  </insert> 
</mapper>